<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.wyh2004.top/</id>
    <title>WYH2004の小站</title>
    <updated>2020-01-09T00:49:42.040Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://blog.wyh2004.top/"/>
    <link rel="self" href="https://blog.wyh2004.top/atom.xml"/>
    <logo>https://blog.wyh2004.top/images/avatar.png</logo>
    <icon>https://blog.wyh2004.top/favicon.ico</icon>
    <rights>All rights reserved 2020, WYH2004の小站</rights>
    <entry>
        <title type="html"><![CDATA[Linux如何设置开机时执行某一条指令]]></title>
        <id>https://blog.wyh2004.top/post/linux-ru-he-she-zhi-kai-ji-shi-zhi-xing-mou-yi-tiao-zhi-ling</id>
        <link href="https://blog.wyh2004.top/post/linux-ru-he-she-zhi-kai-ji-shi-zhi-xing-mou-yi-tiao-zhi-ling">
        </link>
        <updated>2020-01-09T00:46:41.000Z</updated>
        <content type="html"><![CDATA[<p>配置自动启动<br>
笔者使用systemctl来控制启动，以服务端为例。<br>
首先<br>
使用这个命令生成服务<br>
sudo vim /lib/systemd/system/&lt;服务的名字&gt;.service<br>
在里面写入以下内容:</p>
<blockquote>
<p>[Unit]<br>
Description=fraps service<br>
After=network.target network-online.target syslog.target<br>
Wants=network.target network-online.target</p>
<p>[Service]<br>
Type=simple</p>
</blockquote>
<p>#启动服务使用的命令（可以使用路径，此处我已frps服务做演示）</p>
<blockquote>
<p>ExecStart=/root/frp/frps -c /root/frp/frps.ini</p>
<p>[Install]<br>
WantedBy=multi-user.target</p>
</blockquote>
<blockquote>
<p>相关命令<br>
启动服务:<br>
sudo systemctl start &lt;服务的名字&gt;<br>
关闭服务:<br>
sudo systemctl stop &lt;服务的名字&gt;<br>
查看服务的日志信息:<br>
sudo systemctl status &lt;服务的名字&gt;<br>
设置服务开机自启:<br>
sudo systemctl enable &lt;服务的名字&gt;<br>
关闭服务开机自启:<br>
sudo systemctl disabled &lt;服务的名字&gt;</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[从零基础学习搭建FRP内网穿透,轻松实现外网访问本地服务器! ]]></title>
        <id>https://blog.wyh2004.top/post/cong-ling-ji-chu-xue-xi-da-jian-frp-nei-wang-chuan-tou-qing-song-shi-xian-wai-wang-fang-wen-ben-di-fu-wu-qi</id>
        <link href="https://blog.wyh2004.top/post/cong-ling-ji-chu-xue-xi-da-jian-frp-nei-wang-chuan-tou-qing-song-shi-xian-wai-wang-fang-wen-ben-di-fu-wu-qi">
        </link>
        <updated>2020-01-09T00:39:52.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>注意：用国内服务器搭建，需要域名备案才能使用</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>注意：用国内服务器搭建，需要域名备案才能使用</p>
</blockquote>
<!-- more -->
<blockquote>
<p>一.Frp服务器的用途和原理</p>
</blockquote>
<p>利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。<br>
对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。<br>
利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机</p>
<blockquote>
<p>二.安装Frp服务端</p>
</blockquote>
<p>1、公网服务器与内网服务器都需要下载frp进行安装 :<br>
下载地址是https://github.com/fatedier/frp/releases<br>
Frp下载地址<br>
2.下载好之后，将压缩包进行解压,Linux可以使用该指令:<br>
tar -zxvf &lt;压缩包的名字(要加后缀名的)&gt;<br>
3.进入解压目录：<br>
frps、frps.ini这个两个是服务端文件，frpc、frpc.ini这两个是客户端文件<br>
4.然后配置服务端的配置文件<br>
vi ./frps.ini<br>
[common]<br>
bind_port = 7000        #与客户端绑定的进行通信的端口<br>
vhost_http_port = 80    #访问客户端http服务自定义的端口号<br>
vhost_https_port = 443  #访问客户端https服务自定义的端口号<br>
token = 12345678        #秘钥可以自己修改<br>
按”i”键进行编辑，按“esc”退出编辑状态，输入“:wq”退出</p>
<blockquote>
<p>三.启动Frp服务端</p>
</blockquote>
<p>启动Frp服务的方法就是<br>
./frps -c ./frps.ini<br>
后台保持启动的指令：<br>
nohup ./frps -c ./frps.ini &amp;</p>
<blockquote>
<p>四. 配置客户端</p>
</blockquote>
<p>vi ./frpc.ini<br>
[common]<br>
server_addr = 123.123.12.132      #公网服务器ip<br>
server_port = 7000              #与服务端bind_port一致<br>
token = 12345678               #与服务端秘钥一致</p>
<p>#公网通过ssh访问内部服务器<br>
[ssh]<br>
type = tcp                      #连接协议<br>
local_ip = 127.0.0.1            #内网服务器ip<br>
local_port = 22                 #ssh默认端口号<br>
remote_port = 6000              #自定义的访问内部ssh端口号</p>
<p>#公网访问内部web服务器以http方式<br>
[web]<br>
type = http                     #访问协议<br>
local_ip = 127.0.0.1            #内网服务器ip<br>
local_port = 80                 #内网web服务的端口号<br>
custom_domains = www.wyh2004.top,bilibili.tv<br>
#所绑定的公网服务器域名，一级、二级域名都可以，绑定多个域名时用英文“,”分开</p>
<blockquote>
<p>五.启动客户端</p>
</blockquote>
<p>启动Frp的方法就是<br>
./frps -c ./frps.ini<br>
后台保持启动的指令：<br>
nohup ./frps -c ./frps.ini &amp;</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MySQL第二次安装失败的解决方法 ]]></title>
        <id>https://blog.wyh2004.top/post/mysql-di-er-ci-an-zhuang-shi-bai-de-jie-jue-fang-fa</id>
        <link href="https://blog.wyh2004.top/post/mysql-di-er-ci-an-zhuang-shi-bai-de-jie-jue-fang-fa">
        </link>
        <updated>2020-01-09T00:35:49.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>1.首先在控制面板中将名字与mysql有关的逐一的卸载。</p>
</blockquote>
<blockquote>
<p>2.然后找到mysql安装目录将mysql文件夹全部删掉，即使是空的文件夹也要删掉。</p>
</blockquote>
<blockquote>
<p>3.打开C:ProgramData，找到MySQL文件夹，并将其删除（关键的一步），C:ProgramData这个目录默认是隐藏的，不能直接看到这个目录，可以 直接在c盘的搜索框中复制C:ProgramData这个路径找到MySQL文件夹删掉。</p>
</blockquote>
<blockquote>
<p>4.在注册表(regedit)查询mysql，全部删除； cmd -&gt; regedit<br>
1.HKEY_LOCAL_MACHINESYSTEMControlSet001ServicesEventlogApplicationMySQL<br>
2.HKEY_LOCAL_MACHINESYSTEMControlSet002ServicesEventlogApplicationMySQL<br>
3.HKEY_LOCAL_MACHINESYSTEMCurrentControlSetServicesEventlogApplicationMySQL</p>
</blockquote>
<blockquote>
<ol start="5">
<li>然后我们删除完之后，重启电脑，重启完成后我们重新安装一次<br>
（如果上一次安装的东西删除不干净有可能安装失败，再次安装前请仔细检查是否已删除干净）</li>
</ol>
</blockquote>
]]></content>
    </entry>
</feed>